# 例外処理

Python では、プログラムが実行中に発生するエラーや例外を処理するための仕組みが提供されています。例外処理を適切に行うことで、プログラムの安定性を向上させ、予期しないエラーに対処することができます。この章では、例外処理の基本的な使い方について学びます。

## 例外の基本

例外が発生すると、プログラムの通常のフローが中断され、例外がスローされます。Python では、`try`、`except`、`else`、および`finally`ブロックを使用して例外を処理します。

### try-except ブロック

最も基本的な例外処理の構文は `try` と `except` です。`try` ブロック内のコードが実行され、例外が発生した場合は `except` ブロックが実行されます。

```python
try:
    # 例外が発生する可能性のあるコード
    x = 1 / 0
except ZeroDivisionError:
    # 例外が発生した場合に実行されるコード
    print("ゼロで除算することはできません。")
```

### else ブロック

else ブロックは、try ブロック内のコードが例外を発生させなかった場合に実行されます

```py
try:
    x = 1 / 1
except ZeroDivisionError:
    print("ゼロで除算することはできません。")
else:
    print("計算が成功しました。")
```

### finally ブロック

finally ブロックは、例外の発生有無にかかわらず必ず実行されるコードを記述するために使用します。リソースの解放などに利用します。

```py
try:
    x = 1 / 1
except ZeroDivisionError:
    print("ゼロで除算することはできません。")
else:
    print("計算が成功しました。")
finally:
    print("このメッセージは必ず実行されます。")
```

### 独自の例外を定義する

独自の例外を定義するには、Python の組み込み例外クラスを継承します。

```py
class MyCustomError(Exception):
    pass

try:
    raise MyCustomError("これは独自の例外です。")
except MyCustomError as e:
    print(e)
```

## 練習問題

### 問題 1: 基本的な例外処理

ユーザーから入力を受け取り、それを整数に変換するプログラムを作成してください。ユーザーが整数以外の値を入力した場合、適切なエラーメッセージを表示してください。

回答：practice1_ans.py を確認して下さい。

### 問題 2: 複数の例外処理

ファイルを読み込むプログラムを作成し、ファイルが存在しない場合と、読み取り中にエラーが発生した場合の両方に対処してください。

回答：practice2_ans.py を確認して下さい。

### 問題 3: finally ブロック

ユーザーから 2 つの整数を入力させ、それらを除算するプログラムを作成してください。ゼロ除算エラーを処理し、finally ブロックで「プログラムが終了しました」というメッセージを表示してください。

回答：practice3_ans.py を確認して下さい。

### 問題 4: 独自の例外クラス

独自の例外クラス NegativeNumberError を定義し、ユーザーが負の数を入力した場合にその例外をスローするプログラムを作成してください。

回答：practice4_ans.py を確認して下さい。
